<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="/Css/styleSlideshow.css" rel="stylesheet">
  <title>Document</title>
</head>

<body>
  <div class="biggest-project-container">
    <div id="projects-container">
      <button onclick="leftToRight()"><</button>
      <div class="div-proj" id="left-div"><img id="left" class="project"></img></div>
      <div class="div-proj" id="center-div"><img id="center" class="project"></img></div>
      <div class="div-proj" id="right-div"><img id="right" class="project"></img></div>
      <div class="div-proj" id="other-div"><img id="other" class="project"></img></div>
      <button onclick="rightToLeft()">></button>
    </div>
  </div>



</body>

<script>
  const container = document.getElementById('projects-container');
  let allProjects = ['PROJECT1', 'PROJECT2', 'PROJECT3', 'PROJECT4'];
  let projImages = ['https://projects-images-fish.s3.eu-west-1.amazonaws.com/GeekFish-HomePage.jpeg',
    'https://projects-images-fish.s3.eu-west-1.amazonaws.com/GreenWebsite-HomePage.jpeg',
    'https://projects-images-fish.s3.eu-west-1.amazonaws.com/HostFish-HomePage.jpeg',
    'https://projects-images-fish.s3.eu-west-1.amazonaws.com/Psyduck-HomePage.jpeg'
  ]
  let currentIndex = 0; //RED

  function updateVisibleProjects() {
  // Array di oggetti != Array semplice
  const projectMappings = [
    { divId: 'left-div', projectId: 'left', nameId: 'left-a-name' },
    { divId: 'center-div', projectId: 'center', nameId: 'center-a-name' },
    { divId: 'right-div', projectId: 'right', nameId: 'right-a-name' },
    { divId: 'other-div', projectId: 'other', nameId: 'other-a-name' }
  ];

  setTimeout(() => {
    projectMappings.forEach((mapping, index) => {
      const projectDiv = document.getElementById(mapping.divId);
      const project = projectDiv.querySelector(`#${mapping.projectId}`);
      const projectName = projectDiv.querySelector(`#${mapping.nameId}`);

      projectName.textContent = allProjects[(currentIndex + index) % allProjects.length];
      project.src = projImages[(currentIndex + index) % projImages.length];
    });

    console.log(...projectMappings.map((_, index) => allProjects[(currentIndex + index) % allProjects.length]));
  }, 500);
}


  function leftToRight() {

    currentIndex = (currentIndex - 1 + projImages.length) % projImages.length;
    console.log(currentIndex);

    updateVisibleProjects();

    var blue = document.getElementById('right-div')
    var green = document.getElementById('center-div')
    var red = document.getElementById('left-div')
    var yellow = document.getElementById('other-div')

    blue.classList.add("rightToOther")

    green.classList.add("centerToRight")

    red.classList.add("leftToCenter")

    yellow.classList.add('otherToLeft')

    setTimeout(() => {
      blue.classList.remove("rightToOther")
      green.classList.remove("centerToRight")
      red.classList.remove("leftToCenter")
      yellow.classList.remove('otherToLeft')
    }, 500)

  }

  function rightToLeft() {
    currentIndex = (currentIndex + 1) % projImages.length;
    updateVisibleProjects();

    var blue = document.getElementById('right-div')
    var green = document.getElementById('center-div')
    var red = document.getElementById('left-div')
    var yellow = document.getElementById('other-div')

    blue.classList.add("rightToCenter")

    green.classList.add("centerToLeft")

    red.classList.add("leftToOther")

    yellow.classList.add('otherToRight')
   
    setTimeout(() => {
      blue.classList.remove("rightToCenter")
      green.classList.remove("centerToLeft")
      red.classList.remove("leftToOther")
      yellow.classList.remove('otherToRight')
    }, 500)
  }

  updateVisibleProjects();
</script>

</html>